# 20240811 [TIL] 과제 질문 답변 정리.
<br>

---
<br>
<br>
<br>

```
 - 과제 제출 질문 답변을 정리 해놨다.

```


---
### (기술질문 #1) 고객 주문 시 예상치 못한 오류로 인해 상품 서비스에서 재고를 차감 하였으나, 주문 서비스에서 에러가 발생해 주문이 정상적으로 완료되지 않았을 경우 어떻게 할 수 있을까요?
- 주문서비스에서 에러가 발생했을때 상품서비스에도 에러 상황을 전파해 재고를 롤백시키는 로직을 구현하면 될것같습니다.

###  (기술질문 #2) 마이크로서비스 간의 통신에 대한 보안을 어떻게 보장할 수 있나요?
- 데이터는 암호화 하여 전송하고 사용자 인증을 거쳐  passport를 발급하고 passport를 검증해 보안을 보장 할수 있습니다.

### 기술질문 #3) MSA 환경에서 서로의 서비스를 의존하게 되는 의존성 순환이 발생했을때 어떻게 해결할 수 있을까요?
- @Lazy로 지연 시키거나 , 순환을 허용 해줄수 있지만 이건 좋은 설계 가 아니라고 생각하고 순환을 하지 않는 구조로 설계를 해야 합니다. 저도 의존성 순환 문제를 겪어 처음에는 @Lazy로 지연 시키는 방법을 사용 하였지만 authService에 인터페이스를 추가하여 DIP를 적용 시켜  authFilter가 authService클래스를 직접 참조하지 않고 인터페이스를 참조하게 해서 해결 했습니다.

###  (기술질문 #4) 분산 시스템에서의 데이터 일관성을 어떻게 유지할 수 있을까요?
- 대표적으로 SAGA패턴을 이용해서 유지할수 있습니다. saca 패턴은 긴 트랜잭션을 여러개의 작은 트랜잭션으로 나눠서 순차적으로 실행하는 패턴입니다. 각트랜잭션이 성공하면 다음 트랜잭션이 실행됩니다 만약 실패하면 이전 트랙잭션을 롤백하여 시스템의 일관성을 유지합니다.

###  (기술질문 #5) 레거시 모놀리식 서비스를 MSA 로 전환한다고 할 때, 어떠한 이유가 있을까요?
- 서비스가 커가면서 각 기능이나 모듈만 독립적으로 확장하기 어려울때 독립적인 서비스로 쪼개서  각 서비스를 확장 가능 하므로 자원을 효율적으로 사용 할수 있고 비용절감과 성능 향샹이 가능하기 때문입니다. 또 서비스가 독립적이기때문에 특정 서비스에 문제가 발생해도 다른 서비스에 영향을 주지 않아 피해를 최소화 시킬수 있고 유지보수가 용이 합니다.
  서비스를 작게 쪼개놨기 때문에 서비스간의 경계가 명확해 작업자들의 개발 속도가 빨라질수 있습니다.